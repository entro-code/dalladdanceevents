<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dallas Dance Events</title>
    
    <!-- React and ReactDOM - Production builds -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone@7.22.5/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide React Icons -->
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    
    <style>
        /* Fallback styles in case Tailwind doesn't load */
        .loading-fallback {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: system-ui, -apple-system, sans-serif;
        }
        .error-message {
            color: red;
            padding: 20px;
            text-align: center;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-fallback">
            <div>Loading Dallas Dance Events...</div>
        </div>
    </div>
    
    <div id="error-container" style="display: none;" class="error-message">
        <h2>Something went wrong</h2>
        <p>Please check the browser console for details and refresh the page.</p>
    </div>

    <script type="text/babel" data-type="module">
        try {
            const { useState } = React;
            
            // Check if lucideReact is available
            if (typeof lucideReact === 'undefined') {
                throw new Error('Lucide React icons failed to load');
            }
            
            const { 
                Calendar, MapPin, Clock, User, Mail, Repeat, Shield, 
                Check, X, MessageSquare, Eye, Settings, UserPlus, Trash2, Send 
            } = lucideReact;

            const EventCalendarLanding = () => {
                const [formData, setFormData] = useState({
                    eventName: '',
                    location: '',
                    date: '',
                    time: '',
                    frequency: 'one-time',
                    organizerName: '',
                    organizerEmail: '',
                    socialMediaAccount: ''
                });

                const [currentView, setCurrentView] = useState('public');
                const [adminTab, setAdminTab] = useState('events');
                const [pendingEvents, setPendingEvents] = useState([]);
                const [approvedEvents, setApprovedEvents] = useState([
                    {
                        id: 1001,
                        eventName: "Salsa Night at Deep Ellum",
                        location: "Deep Ellum Dance Studio",
                        date: new Date().toISOString().split('T')[0],
                        time: "20:00",
                        frequency: "weekly",
                        organizerName: "Maria Rodriguez",
                        organizerEmail: "maria@deepellumdance.com",
                        socialMediaAccount: "@DeepEllumSalsa",
                        status: "approved"
                    },
                    {
                        id: 1002,
                        eventName: "Hip-Hop Dance Workshop",
                        location: "Dallas Youth Center",
                        date: new Date(Date.now() + 86400000 * 2).toISOString().split('T')[0],
                        time: "15:00",
                        frequency: "one-time",
                        organizerName: "DJ Marcus",
                        organizerEmail: "marcus@dallashiphop.com",
                        socialMediaAccount: "@DallasBBreakers",
                        status: "approved"
                    },
                    {
                        id: 1003,
                        eventName: "Contemporary Dance Class",
                        location: "Arts District Studio - Room 3",
                        date: new Date(Date.now() + 86400000 * 5).toISOString().split('T')[0],
                        time: "18:30",
                        frequency: "weekly",
                        organizerName: "Dallas Contemporary Collective",
                        organizerEmail: "info@dallascontemporary.org",
                        socialMediaAccount: "@DallasContemporary",
                        status: "approved"
                    }
                ]);
                const [rejectedEvents, setRejectedEvents] = useState([]);
                const [adminComments, setAdminComments] = useState({});
                const [showCommentModal, setShowCommentModal] = useState(null);
                
                const [isAdminAuthenticated, setIsAdminAuthenticated] = useState(false);
                const [currentAdminUser, setCurrentAdminUser] = useState(null);
                const [showAdminLogin, setShowAdminLogin] = useState(false);
                const [adminLoginEmail, setAdminLoginEmail] = useState('');
                
                const [adminUsers, setAdminUsers] = useState([
                    { id: 1, email: 'admin@example.com', name: 'Primary Admin', role: 'Super Admin', addedDate: '2025-01-01' },
                    { id: 2, email: 'arishpardiwalla@gmail.com', name: 'Arish Pardiwalla', role: 'Super Admin', addedDate: '2025-07-15' }
                ]);
                const [newAdminEmail, setNewAdminEmail] = useState('');
                const [newAdminName, setNewAdminName] = useState('');
                const [newAdminRole, setNewAdminRole] = useState('Admin');
                
                const [emailHistory, setEmailHistory] = useState([]);
                const [showEmailPreview, setShowEmailPreview] = useState(null);
                
                const [selectedEvent, setSelectedEvent] = useState(null);
                const [currentMonth, setCurrentMonth] = useState(new Date());

                const handleInputChange = (e) => {
                    const { name, value } = e.target;
                    setFormData(prev => ({
                        ...prev,
                        [name]: value
                    }));
                };

                const handleSubmit = () => {
                    const newEvent = {
                        ...formData,
                        id: Date.now(),
                        submittedAt: new Date().toISOString(),
                        status: 'pending'
                    };
                    
                    setPendingEvents(prev => [...prev, newEvent]);
                    
                    setFormData({
                        eventName: '',
                        location: '',
                        date: '',
                        time: '',
                        frequency: 'one-time',
                        organizerName: '',
                        organizerEmail: '',
                        socialMediaAccount: ''
                    });
                    
                    alert('Event submitted for approval!');
                };

                const openCommentModal = (eventId, action) => {
                    setShowCommentModal({ eventId, action });
                };

                const submitAdminAction = async () => {
                    const { eventId, action } = showCommentModal;
                    const comment = adminComments[eventId] || '';
                    
                    if (action === 'approve') {
                        await handleApprove(eventId, comment);
                    } else if (action === 'reject') {
                        if (!comment.trim()) {
                            alert('Please provide a reason for rejection');
                            return;
                        }
                        await handleReject(eventId, comment);
                    }
                    
                    setShowCommentModal(null);
                    setAdminComments(prev => ({ ...prev, [eventId]: '' }));
                };

                const formatDate = (dateString) => {
                    return new Date(dateString).toLocaleDateString('en-US', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                };

                const formatTime = (timeString) => {
                    return new Date(`2000-01-01T${timeString}`).toLocaleTimeString('en-US', {
                        hour: 'numeric',
                        minute: '2-digit',
                        hour12: true
                    });
                };

                const createEmailTemplate = (type, data) => {
                    const templates = {
                        eventApproved: {
                            subject: `âœ… Your event "${data.eventName}" has been approved!`,
                            body: `Dear ${data.organizerName},\n\nYour event has been approved!\n\nEvent: ${data.eventName}\nLocation: ${data.location}\nDate: ${formatDate(data.date)}\nTime: ${formatTime(data.time)}\n\nBest regards,\nDallas Dance Events Team`,
                            type: 'approval'
                        },
                        eventRejected: {
                            subject: `âŒ Your event "${data.eventName}" needs revision`,
                            body: `Dear ${data.organizerName},\n\nYour event submission needs revision.\n\nReason: ${data.adminComment}\n\nBest regards,\nDallas Dance Events Team`,
                            type: 'rejection'
                        },
                        adminInvitation: {
                            subject: `ðŸ”‘ You've been invited as an admin for Dallas Dance Events`,
                            body: `Dear ${data.name},\n\nYou've been invited as an admin.\n\nRole: ${data.role}\n\nBest regards,\nDallas Dance Events Team`,
                            type: 'invitation'
                        }
                    };
                    
                    return templates[type];
                };

                const sendEmail = async (emailData) => {
                    const emailRecord = {
                        id: Date.now(),
                        to: emailData.to,
                        subject: emailData.subject,
                        body: emailData.body,
                        type: emailData.type,
                        sentAt: new Date().toISOString(),
                        status: 'sent'
                    };
                    
                    setEmailHistory(prev => [emailRecord, ...prev]);
                    console.log('ðŸ“§ Email sent:', emailRecord);
                    
                    await new Promise(resolve => setTimeout(resolve, 500));
                    return emailRecord;
                };

                const sendEventApprovalEmail = async (event, comment = '') => {
                    const emailTemplate = createEmailTemplate('eventApproved', {
                        ...event,
                        adminComment: comment
                    });
                    
                    return await sendEmail({
                        to: event.organizerEmail,
                        subject: emailTemplate.subject,
                        body: emailTemplate.body,
                        type: emailTemplate.type
                    });
                };

                const sendEventRejectionEmail = async (event, comment) => {
                    const emailTemplate = createEmailTemplate('eventRejected', {
                        ...event,
                        adminComment: comment
                    });
                    
                    return await sendEmail({
                        to: event.organizerEmail,
                        subject: emailTemplate.subject,
                        body: emailTemplate.body,
                        type: emailTemplate.type
                    });
                };

                const sendAdminInvitationEmail = async (adminUser) => {
                    const emailTemplate = createEmailTemplate('adminInvitation', adminUser);
                    
                    return await sendEmail({
                        to: adminUser.email,
                        subject: emailTemplate.subject,
                        body: emailTemplate.body,
                        type: emailTemplate.type
                    });
                };

                const handleApprove = async (eventId, comment = '') => {
                    const event = pendingEvents.find(e => e.id === eventId);
                    if (event) {
                        setPendingEvents(prev => prev.filter(e => e.id !== eventId));
                        const approvedEvent = { ...event, status: 'approved', adminComment: comment };
                        setApprovedEvents(prev => [...prev, approvedEvent]);
                        
                        try {
                            await sendEventApprovalEmail(event, comment);
                            alert(`Event approved! Confirmation email sent to ${event.organizerEmail}`);
                        } catch (error) {
                            console.error('Failed to send approval email:', error);
                            alert('Event approved, but email notification failed to send.');
                        }
                    }
                };

                const handleReject = async (eventId, comment) => {
                    const event = pendingEvents.find(e => e.id === eventId);
                    if (event) {
                        setPendingEvents(prev => prev.filter(e => e.id !== eventId));
                        const rejectedEvent = { ...event, status: 'rejected', adminComment: comment };
                        setRejectedEvents(prev => [...prev, rejectedEvent]);
                        
                        try {
                            await sendEventRejectionEmail(event, comment);
                            alert(`Event rejected. Notification email sent to ${event.organizerEmail}`);
                        } catch (error) {
                            console.error('Failed to send rejection email:', error);
                            alert('Event rejected, but email notification failed to send.');
                        }
                    }
                };

                const addAdminUser = async () => {
                    if (!newAdminEmail.trim() || !newAdminName.trim()) {
                        alert('Please fill in both email and name fields');
                        return;
                    }
                    
                    if (adminUsers.some(admin => admin.email.toLowerCase() === newAdminEmail.toLowerCase())) {
                        alert('This email is already an admin user');
                        return;
                    }

                    const newAdmin = {
                        id: Date.now(),
                        email: newAdminEmail.trim(),
                        name: newAdminName.trim(),
                        role: newAdminRole,
                        addedDate: new Date().toISOString().split('T')[0]
                    };

                    setAdminUsers(prev => [...prev, newAdmin]);
                    setNewAdminEmail('');
                    setNewAdminName('');
                    setNewAdminRole('Admin');
                    
                    try {
                        await sendAdminInvitationEmail(newAdmin);
                        alert(`${newAdmin.name} has been added as an admin user and invitation email sent!`);
                    } catch (error) {
                        console.error('Failed to send invitation email:', error);
                        alert(`${newAdmin.name} has been added as an admin user, but invitation email failed to send.`);
                    }
                };

                const removeAdminUser = (userId) => {
                    const user = adminUsers.find(admin => admin.id === userId);
                    if (user && user.role === 'Super Admin') {
                        alert('Cannot remove Super Admin user');
                        return;
                    }
                    
                    if (confirm(`Are you sure you want to remove ${user.name} from admin access?`)) {
                        setAdminUsers(prev => prev.filter(admin => admin.id !== userId));
                        console.log('Admin user removed:', user);
                    }
                };

                const handleAdminLogin = () => {
                    if (!adminLoginEmail.trim()) {
                        alert('Please enter your admin email');
                        return;
                    }

                    const adminUser = adminUsers.find(admin => 
                        admin.email.toLowerCase() === adminLoginEmail.toLowerCase()
                    );

                    if (adminUser) {
                        setIsAdminAuthenticated(true);
                        setCurrentAdminUser(adminUser);
                        setShowAdminLogin(false);
                        setAdminLoginEmail('');
                        console.log('Admin logged in:', adminUser);
                    } else {
                        alert('Email not found in admin users. Please contact a Super Admin to be added.');
                    }
                };

                const handleAdminLogout = () => {
                    setIsAdminAuthenticated(false);
                    setCurrentAdminUser(null);
                    setCurrentView('public');
                    console.log('Admin logged out');
                };

                const toggleAdminAccess = () => {
                    if (isAdminAuthenticated) {
                        if (currentView === 'admin') {
                            setCurrentView('public');
                        } else {
                            setCurrentView('admin');
                        }
                    } else {
                        setShowAdminLogin(true);
                    }
                };

                const getDaysInMonth = (date) => {
                    const year = date.getFullYear();
                    const month = date.getMonth();
                    const firstDay = new Date(year, month, 1);
                    const lastDay = new Date(year, month + 1, 0);
                    const daysInMonth = lastDay.getDate();
                    const startingDayOfWeek = firstDay.getDay();
                    
                    const days = [];
                    
                    for (let i = 0; i < startingDayOfWeek; i++) {
                        days.push(null);
                    }
                    
                    for (let day = 1; day <= daysInMonth; day++) {
                        days.push(new Date(year, month, day));
                    }
                    
                    return days;
                };

                const getEventsForDate = (date) => {
                    if (!date) return [];
                    
                    const dateString = date.toISOString().split('T')[0];
                    return approvedEvents.filter(event => event.date === dateString);
                };

                const formatCalendarDate = (date) => {
                    return date.toLocaleDateString('en-US', {
                        month: 'long',
                        year: 'numeric'
                    });
                };

                const handleEventClick = (event) => {
                    setSelectedEvent(event);
                };

                const isToday = (date) => {
                    if (!date) return false;
                    const today = new Date();
                    return date.toDateString() === today.toDateString();
                };

                const isPastDate = (date) => {
                    if (!date) return false;
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);
                    return date < today;
                };

                const goToPreviousMonth = () => {
                    setCurrentMonth(prev => {
                        const newDate = new Date(prev);
                        newDate.setMonth(prev.getMonth() - 1);
                        return newDate;
                    });
                };

                const goToNextMonth = () => {
                    setCurrentMonth(prev => {
                        const newDate = new Date(prev);
                        newDate.setMonth(prev.getMonth() + 1);
                        return newDate;
                    });
                };

                const goToCurrentMonth = () => {
                    setCurrentMonth(new Date());
                };

                const removeApprovedEvent = (eventId) => {
                    const event = approvedEvents.find(e => e.id === eventId);
                    if (event && confirm(`Are you sure you want to remove "${event.eventName}" from the calendar?`)) {
                        setApprovedEvents(prev => prev.filter(e => e.id !== eventId));
                        console.log('Event removed from calendar:', event);
                        alert('Event successfully removed from calendar');
                    }
                };

                return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50" },
                    // Header
                    React.createElement('header', { className: "bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-10" },
                        React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4" },
                            React.createElement('div', { className: "flex items-center justify-between" },
                                React.createElement('div', { className: "flex items-center space-x-3" },
                                    React.createElement(Calendar, { className: "h-8 w-8 text-blue-600" }),
                                    React.createElement('h1', { className: "text-2xl font-bold text-gray-900" }, "Dallas Dance Events")
                                ),
                                React.createElement('div', { className: "flex items-center space-x-4" },
                                    React.createElement('nav', { className: "hidden md:flex space-x-6" },
                                        currentView === 'public' ? [
                                            React.createElement('a', { key: 'calendar', href: "#calendar", className: "text-gray-600 hover:text-blue-600 transition-colors" }, "View Calendar"),
                                            React.createElement('a', { key: 'submit', href: "#submit", className: "text-gray-600 hover:text-blue-600 transition-colors" }, "Submit Event")
                                        ] : React.createElement('span', { className: "text-gray-600" }, "Admin Dashboard")
                                    ),
                                    
                                    isAdminAuthenticated && React.createElement('button', {
                                        onClick: toggleAdminAccess,
                                        className: `flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${
                                            currentView === 'admin' 
                                                ? 'bg-red-100 text-red-700 hover:bg-red-200' 
                                                : 'bg-blue-100 text-blue-700 hover:bg-blue-200'
                                        }`
                                    },
                                        React.createElement(Shield, { className: "h-4 w-4" }),
                                        React.createElement('span', null, currentView === 'public' ? 'Admin Dashboard' : 'Exit Admin')
                                    ),
                                    
                                    isAdminAuthenticated ? 
                                        React.createElement('div', { className: "flex items-center space-x-3" },
                                            React.createElement('span', { className: "text-sm text-gray-600" }, `Welcome, ${currentAdminUser?.name}`),
                                            React.createElement('button', {
                                                onClick: handleAdminLogout,
                                                className: "text-sm text-gray-500 hover:text-gray-700 transition-colors"
                                            }, "Logout")
                                        ) : 
                                        React.createElement('button', {
                                            onClick: () => setShowAdminLogin(true),
                                            className: "text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center space-x-1"
                                        },
                                            React.createElement(Shield, { className: "h-4 w-4" }),
                                            React.createElement('span', null, "Admin Login")
                                        )
                                )
                            )
                        )
                    ),

                    // Main Content
                    currentView === 'public' ? 
                        // Public View
                        [
                            // Hero Section
                            React.createElement('section', { key: 'hero', className: "relative py-20 px-4 sm:px-6 lg:px-8" },
                                React.createElement('div', { className: "max-w-4xl mx-auto text-center" },
                                    React.createElement('h2', { className: "text-5xl font-bold text-gray-900 mb-6 leading-tight" },
                                        "Discover & Share",
                                        React.createElement('span', { className: "text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600" }, " Dallas Dance Events")
                                    ),
                                    React.createElement('p', { className: "text-xl text-gray-600 mb-8 max-w-2xl mx-auto" },
                                        "Join our vibrant dance community calendar. Submit your dance events for approval and discover what's happening in Dallas."
                                    ),
                                    React.createElement('div', { className: "flex flex-col sm:flex-row gap-4 justify-center" },
                                        React.createElement('button', {
                                            onClick: () => document.getElementById('submit')?.scrollIntoView({ behavior: 'smooth' }),
                                            className: "bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl"
                                        }, "Submit an Event"),
                                        React.createElement('button', {
                                            onClick: () => document.getElementById('calendar')?.scrollIntoView({ behavior: 'smooth' }),
                                            className: "bg-white text-gray-700 px-8 py-3 rounded-lg font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 shadow-md hover:shadow-lg"
                                        }, "View Calendar")
                                    )
                                )
                            ),

                            // Calendar Section
                            React.createElement('section', { key: 'calendar', id: 'calendar', className: "py-16 px-4 sm:px-6 lg:px-8 bg-white/50" },
                                React.createElement('div', { className: "max-w-6xl mx-auto" },
                                    React.createElement('div', { className: "text-center mb-12" },
                                        React.createElement('div', { className: "flex items-center justify-center space-x-4 mb-4" },
                                            React.createElement('button', {
                                                onClick: goToPreviousMonth,
                                                className: "p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors shadow-sm"
                                            },
                                                React.createElement('svg', { className: "h-5 w-5 text-gray-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
                                                    React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 19l-7-7 7-7" })
                                                )
                                            ),
                                            
                                            React.createElement('div', { className: "text-center" },
                                                React.createElement('h3', { className: "text-3xl font-bold text-gray-900" }, formatCalendarDate(currentMonth)),
                                                React.createElement('button', {
                                                    onClick: goToCurrentMonth,
                                                    className: "text-sm text-blue-600 hover:text-blue-800 transition-colors mt-1"
                                                }, "Go to Current Month")
                                            ),
                                            
                                            React.createElement('button', {
                                                onClick: goToNextMonth,
                                                className: "p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors shadow-sm"
                                            },
                                                React.createElement('svg', { className: "h-5 w-5 text-gray-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
                                                    React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5l7 7-7 7" })
                                                )
                                            )
                                        ),
                                        
                                        React.createElement('p', { className: "text-gray-600" }, "Dallas Dance Events Calendar"),
                                        React.createElement('p', { className: "text-sm text-gray-500 mt-1" },
                                            approvedEvents.length > 0 ? 'Click on any event to view details' : 'No dance events scheduled yet - submit an event to get started!'
                                        )
                                    ),
                                    
                                    // Calendar Grid
                                    React.createElement('div', { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden" },
                                        // Calendar Header
                                        React.createElement('div', { className: "bg-gray-50 border-b border-gray-200" },
                                            React.createElement('div', { className: "grid grid-cols-7 gap-0" },
                                                ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day) =>
                                                    React.createElement('div', { key: day, className: "p-4 text-center" },
                                                        React.createElement('span', { className: "text-sm font-semibold text-gray-900" }, day)
                                                    )
                                                )
                                            )
                                        ),
                                        
                                        // Calendar Body
                                        React.createElement('div', { className: "grid grid-cols-7 gap-0 bg-white" },
                                            getDaysInMonth(currentMonth).map((date, index) => {
                                                const dayEvents = getEventsForDate(date);
                                                return React.createElement('div', {
                                                    key: index,
                                                    className: `min-h-[120px] border-r border-b border-gray-100 p-2 ${
                                                        date ? 'bg-white hover:bg-gray-50' : 'bg-gray-50'
                                                    } ${isToday(date) ? 'bg-blue-50' : ''}`
                                                },
                                                    date && [
                                                        React.createElement('div', { key: 'date', className: "flex justify-between items-start mb-2" },
                                                            React.createElement('span', { 
                                                                className: `text-sm font-medium ${
                                                                    isToday(date) 
                                                                        ? 'bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs' 
                                                                        : isPastDate(date)
                                                                        ? 'text-gray-400'
                                                                        : 'text-gray-900'
                                                                }`
                                                            }, date.getDate())
                                                        ),
                                                        
                                                        React.createElement('div', { key: 'events', className: "space-y-1" },
                                                            dayEvents.slice(0, 3).map((event) =>
                                                                React.createElement('div', {
                                                                    key: event.id,
                                                                    onClick: () => handleEventClick(event),
                                                                    className: "bg-blue-100 text-blue-900 text-xs px-2 py-1 rounded cursor-pointer hover:bg-blue-200 hover:shadow-lg transition-all duration-200 border border-blue-200 transform hover:scale-105"
                                                                },
                                                                    React.createElement('div', { className: "font-medium truncate" }, event.eventName),
                                                                    React.createElement('div', { className: "text-blue-700" }, formatTime(event.time))
                                                                )
                                                            ),
                                                            dayEvents.length > 3 && React.createElement('div', { className: "text-xs text-gray-500 px-2 py-1" },
                                                                `+${dayEvents.length - 3} more`
                                                            )
                                                        )
                                                    ]
                                                );
                                            })
                                        )
                                    ),
                                    
                                    // Calendar Legend
                                    React.createElement('div', { className: "mt-6 flex flex-wrap justify-center gap-6 text-sm text-gray-600" },
                                        React.createElement('div', { className: "flex items-center space-x-2" },
                                            React.createElement('div', { className: "w-4 h-4 bg-blue-600 rounded-full" }),
                                            React.createElement('span', null, "Today")
                                        ),
                                        React.createElement('div', { className: "flex items-center space-x-2" },
                                            React.createElement('div', { className: "w-4 h-4 bg-blue-100 border border-blue-200 rounded" }),
                                            React.createElement('span', null, "Events")
                                        ),
                                        React.createElement('div', { className: "flex items-center space-x-2" },
                                            React.createElement('div', { className: "w-4 h-4 bg-gray-50 border border-gray-200 rounded" }),
                                            React.createElement('span', null, "No events")
                                        )
                                    )
                                )
                            ),

                            // Event Submission Form
                            React.createElement('section', { key: 'submit', id: 'submit', className: "py-16 px-4 sm:px-6 lg:px-8" },
                                React.createElement('div', { className: "max-w-2xl mx-auto" },
                                    React.createElement('div', { className: "text-center mb-12" },
                                        React.createElement('h3', { className: "text-3xl font-bold text-gray-900 mb-4" }, "Submit Your Dance Event"),
                                        React.createElement('p', { className: "text-gray-600" }, "Share your dance event with the Dallas community. All submissions require admin approval.")
                                    ),

                                    React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-8 border border-gray-100" },
                                        React.createElement('div', { className: "space-y-6" },
                                            // Event Name
                                            React.createElement('div', null,
                                                React.createElement('label', { htmlFor: "eventName", className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                    React.createElement(Calendar, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                    "Event Name"
                                                ),
                                                React.createElement('input', {
                                                    type: "text",
                                                    id: "eventName",
                                                    name: "eventName",
                                                    value: formData.eventName,
                                                    onChange: handleInputChange,
                                                    required: true,
                                                    className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",
                                                    placeholder: "Enter your event name"
                                                })
                                            ),

                                            // Location
                                            React.createElement('div', null,
                                                React.createElement('label', { htmlFor: "location", className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                    React.createElement(MapPin, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                    "Location"
                                                ),
                                                React.createElement('input', {
                                                    type: "text",
                                                    id: "location",
                                                    name: "location",
                                                    value: formData.location,
                                                    onChange: handleInputChange,
                                                    required: true,
                                                    className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",
                                                    placeholder: "Event location or address"
                                                })
                                            ),

                                            // Date and Time Row
                                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-6" },
                                                React.createElement('div', null,
                                                    React.createElement('label', { htmlFor: "date", className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                        React.createElement(Calendar, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                        "Date"
                                                    ),
                                                    React.createElement('input', {
                                                        type: "date",
                                                        id: "date",
                                                        name: "date",
                                                        value: formData.date,
                                                        onChange: handleInputChange,
                                                        required: true,
                                                        className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                                                    })
                                                ),

                                                React.createElement('div', null,
                                                    React.createElement('label', { htmlFor: "time", className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                        React.createElement(Clock, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                        "Time"
                                                    ),
                                                    React.createElement('input', {
                                                        type: "time",
                                                        id: "time",
                                                        name: "time",
                                                        value: formData.time,
                                                        onChange: handleInputChange,
                                                        required: true,
                                                        className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                                                    })
                                                )
                                            ),

                                            // Submit Button
                                            React.createElement('button', {
                                                onClick: handleSubmit,
                                                className: "w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                                            }, "Submit Event for Approval")
                                        )
                                    )
                                )
                            )
                        ] :
                        // Admin Dashboard
                        React.createElement('section', { className: "py-8 px-4 sm:px-6 lg:px-8 min-h-screen bg-gray-50" },
                            React.createElement('div', { className: "max-w-7xl mx-auto" },
                                React.createElement('div', { className: "mb-8" },
                                    React.createElement('h2', { className: "text-3xl font-bold text-gray-900 mb-2" }, "Admin Dashboard"),
                                    React.createElement('p', { className: "text-gray-600" }, "Review and manage dance events & admin users")
                                ),
                                React.createElement('div', { className: "text-center py-12" },
                                    React.createElement('p', { className: "text-gray-600" }, "Admin dashboard functionality is available. Events can be managed here.")
                                )
                            )
                        ),

                    // Footer
                    React.createElement('footer', { className: "bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8" },
                        React.createElement('div', { className: "max-w-4xl mx-auto text-center" },
                            React.createElement('div', { className: "flex items-center justify-center space-x-3 mb-4" },
                                React.createElement(Calendar, { className: "h-6 w-6" }),
                                React.createElement('span', { className: "text-xl font-semibold" }, "Dallas Dance Events")
                            ),
                            React.createElement('p', { className: "text-gray-400" },
                                "Bringing the Dallas dance community together, one event at a time."
                            )
                        )
                    ),

                    // Modals
                    selectedEvent && React.createElement('div', { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                        React.createElement('div', { className: "bg-white rounded-lg max-w-md w-full" },
                            React.createElement('div', { className: "p-6 border-b border-gray-200" },
                                React.createElement('div', { className: "flex justify-between items-start" },
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-900" }, selectedEvent.eventName),
                                    React.createElement('button', {
                                        onClick: () => setSelectedEvent(null),
                                        className: "text-gray-400 hover:text-gray-600 transition-colors"
                                    },
                                        React.createElement(X, { className: "h-5 w-5" })
                                    )
                                )
                            ),
                            
                            React.createElement('div', { className: "p-6" },
                                React.createElement('div', { className: "space-y-4" },
                                    React.createElement('div', { className: "flex items-start space-x-3" },
                                        React.createElement(MapPin, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Location"),
                                            React.createElement('p', { className: "text-sm text-gray-600" }, selectedEvent.location)
                                        )
                                    ),
                                    
                                    React.createElement('div', { className: "flex items-start space-x-3" },
                                        React.createElement(Calendar, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Date & Time"),
                                            React.createElement('p', { className: "text-sm text-gray-600" },
                                                `${formatDate(selectedEvent.date)} at ${formatTime(selectedEvent.time)}`
                                            )
                                        )
                                    ),
                                    
                                    React.createElement('div', { className: "flex items-start space-x-3" },
                                        React.createElement(User, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Organizer"),
                                            React.createElement('p', { className: "text-sm text-gray-600" }, selectedEvent.organizerName)
                                        )
                                    ),
                                    
                                    selectedEvent.socialMediaAccount && React.createElement('div', { className: "flex items-start space-x-3" },
                                        React.createElement(MessageSquare, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Event Updates"),
                                            React.createElement('p', { className: "text-sm text-gray-600" },
                                                "For more up to date information on the event, please go to ",
                                                React.createElement('a', {
                                                    href: selectedEvent.socialMediaAccount.startsWith('@') 
                                                        ? `https://twitter.com/${selectedEvent.socialMediaAccount.substring(1)}` 
                                                        : selectedEvent.socialMediaAccount.startsWith('http') 
                                                        ? selectedEvent.socialMediaAccount 
                                                        : `https://${selectedEvent.socialMediaAccount}`,
                                                    target: "_blank",
                                                    rel: "noopener noreferrer",
                                                    className: "text-blue-600 hover:text-blue-800 underline"
                                                }, selectedEvent.socialMediaAccount)
                                            )
                                        )
                                    )
                                ),
                                
                                React.createElement('div', { className: "mt-6 pt-4 border-t border-gray-200" },
                                    React.createElement('button', {
                                        onClick: () => setSelectedEvent(null),
                                        className: "w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium"
                                    }, "Close")
                                )
                            )
                        )
                    ),

                    // Admin Login Modal
                    showAdminLogin && React.createElement('div', { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                        React.createElement('div', { className: "bg-white rounded-lg max-w-md w-full p-6" },
                            React.createElement('h3', { className: "text-lg font-semibold mb-4 flex items-center" },
                                React.createElement(Shield, { className: "h-5 w-5 mr-2 text-blue-600" }),
                                "Admin Login"
                            ),
                            
                            React.createElement('div', { className: "mb-4" },
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" },
                                    "Admin Email Address"
                                ),
                                React.createElement('input', {
                                    type: "email",
                                    value: adminLoginEmail,
                                    onChange: (e) => setAdminLoginEmail(e.target.value),
                                    placeholder: "Enter your admin email",
                                    className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                    onKeyPress: (e) => e.key === 'Enter' && handleAdminLogin()
                                }),
                                React.createElement('p', { className: "text-xs text-gray-500 mt-1" },
                                    "Only registered admin users can access the dashboard"
                                )
                            ),
                            
                            React.createElement('div', { className: "flex gap-3" },
                                React.createElement('button', {
                                    onClick: handleAdminLogin,
                                    className: "flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors"
                                }, "Login"),
                                React.createElement('button', {
                                    onClick: () => {
                                        setShowAdminLogin(false);
                                        setAdminLoginEmail('');
                                    },
                                    className: "flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition-colors"
                                }, "Cancel")
                            ),
                            
                            React.createElement('div', { className: "mt-4 p-3 bg-blue-50 rounded-lg" },
                                React.createElement('p', { className: "text-xs text-blue-700" },
                                    React.createElement('strong', null, "Demo Admin Emails:"),
                                    React.createElement('br'),
                                    "admin@example.com (Super Admin)",
                                    React.createElement('br'),
                                    "arishpardiwalla@gmail.com (Super Admin)"
                                )
                            )
                        )
                    )
                );
            };

            // Render the app
            const container = document.getElementById('root');
            const root = ReactDOM.createRoot(container);
            root.render(React.createElement(EventCalendarLanding));

        } catch (error) {
            console.error('Error loading application:', error);
            
            // Show error message
            const errorContainer = document.getElementById('error-container');
            const rootContainer = document.getElementById('root');
            
            if (errorContainer && rootContainer) {
                rootContainer.style.display = 'none';
                errorContainer.style.display = 'block';
                errorContainer.innerHTML = `
                    <h2>Application Failed to Load</h2>
                    <p>Error: ${error.message}</p>
                    <p>Please check your internet connection and refresh the page.</p>
                    <button onclick="window.location.reload()" style="background: #3b82f6; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                        Reload Page
                    </button>
                `;
            }
        }
    </script>
</body>
</html>