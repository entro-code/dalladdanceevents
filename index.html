<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dallas Dance Events</title>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;

        // Initialize Supabase client
        const SUPABASE_URL = 'https://uyrhpyihtfvwzdpkxlko.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV5cmhweWlodGZ2d3pkcGt4bGtvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3OTU1NDQsImV4cCI6MjA2ODM3MTU0NH0.M4P9ak883g7y8AesLHDRmUpLg5hy_KRt_W9h1yA-m28';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Simple SVG Icons
        const Calendar = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('rect', { x: "3", y: "4", width: "18", height: "18", rx: "2", ry: "2" }),
            React.createElement('line', { x1: "16", y1: "2", x2: "16", y2: "6" }),
            React.createElement('line', { x1: "8", y1: "2", x2: "8", y2: "6" }),
            React.createElement('line', { x1: "3", y1: "10", x2: "21", y2: "10" })
        );
        
        const MapPin = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('path', { d: "M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" }),
            React.createElement('circle', { cx: "12", cy: "10", r: "3" })
        );
        
        const Clock = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('circle', { cx: "12", cy: "12", r: "10" }),
            React.createElement('polyline', { points: "12,6 12,12 16,14" })
        );
        
        const User = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('path', { d: "M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" }),
            React.createElement('circle', { cx: "12", cy: "7", r: "4" })
        );
        
        const Mail = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('path', { d: "M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" }),
            React.createElement('polyline', { points: "22,6 12,13 2,6" })
        );
        
        const Shield = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('path', { d: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" })
        );
        
        const X = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('line', { x1: "18", y1: "6", x2: "6", y2: "18" }),
            React.createElement('line', { x1: "6", y1: "6", x2: "18", y2: "18" })
        );

        const Check = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('polyline', { points: "20,6 9,17 4,12" })
        );

        const Trash = ({ className }) => React.createElement('svg', { 
            className, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2"
        },
            React.createElement('polyline', { points: "3,6 5,6 21,6" }),
            React.createElement('path', { d: "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" })
        );

        function DallasEventsApp() {
            // Form state
            const [formData, setFormData] = useState({
                eventName: '',
                location: '',
                date: '',
                time: '',
                frequency: 'one-time',
                organizerName: '',
                organizerEmail: '',
                socialMediaAccount: ''
            });

            // App state
            const [currentView, setCurrentView] = useState('public'); // 'public' or 'admin'
            const [isAdminAuthenticated, setIsAdminAuthenticated] = useState(false);
            const [currentAdminUser, setCurrentAdminUser] = useState(null);
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [adminLoginEmail, setAdminLoginEmail] = useState('');
            const [selectedEvent, setSelectedEvent] = useState(null);

            // Database state
            const [pendingEvents, setPendingEvents] = useState([]);
            const [approvedEvents, setApprovedEvents] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);

            // Calendar state
            const [currentMonth, setCurrentMonth] = useState(new Date());

            // Database functions
            const fetchPendingEvents = async () => {
                try {
                    const { data, error } = await supabase
                        .from('events')
                        .select('*')
                        .eq('status', 'pending')
                        .order('created_at', { ascending: false });
                    
                    if (error) throw error;
                    setPendingEvents(data || []);
                } catch (err) {
                    console.error('Error fetching pending events:', err);
                    setError('Failed to load pending events');
                }
            };

            const fetchApprovedEvents = async () => {
                try {
                    const { data, error } = await supabase
                        .from('events')
                        .select('*')
                        .eq('status', 'approved')
                        .order('event_date', { ascending: true });
                    
                    if (error) throw error;
                    setApprovedEvents(data || []);
                } catch (err) {
                    console.error('Error fetching approved events:', err);
                    setError('Failed to load approved events');
                }
            };

            const refreshData = async () => {
                setLoading(true);
                setError(null);
                await Promise.all([fetchPendingEvents(), fetchApprovedEvents()]);
                setLoading(false);
            };

            // Load data on component mount
            useEffect(() => {
                refreshData();
            }, []);

            // Load data when switching to admin view
            useEffect(() => {
                if (currentView === 'admin' && isAdminAuthenticated) {
                    refreshData();
                }
            }, [currentView, isAdminAuthenticated]);

            // Helper functions
            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = async () => {
                if (!formData.eventName || !formData.location || !formData.date || !formData.time || !formData.organizerName || !formData.organizerEmail) {
                    alert('Please fill in all required fields');
                    return;
                }

                setLoading(true);
                try {
                    const { data, error } = await supabase
                        .from('events')
                        .insert([{
                            event_name: formData.eventName,
                            location: formData.location,
                            event_date: formData.date,
                            event_time: formData.time,
                            frequency: formData.frequency,
                            organizer_name: formData.organizerName,
                            organizer_email: formData.organizerEmail,
                            social_media_account: formData.socialMediaAccount || null,
                            status: 'pending'
                        }])
                        .select();

                    if (error) throw error;

                    setFormData({
                        eventName: '',
                        location: '',
                        date: '',
                        time: '',
                        frequency: 'one-time',
                        organizerName: '',
                        organizerEmail: '',
                        socialMediaAccount: ''
                    });
                    
                    alert(`Event "${formData.eventName}" submitted for approval! An admin will review it soon.`);
                    
                    // Refresh pending events if admin is logged in
                    if (isAdminAuthenticated) {
                        await fetchPendingEvents();
                    }
                } catch (err) {
                    console.error('Error submitting event:', err);
                    alert('Failed to submit event. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const formatDate = (dateString) => {
                return new Date(dateString).toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            };

            const formatTime = (timeString) => {
                return new Date('2000-01-01T' + timeString).toLocaleTimeString('en-US', {
                    hour: 'numeric',
                    minute: '2-digit',
                    hour12: true
                });
            };

            const handleAdminLogin = async () => {
                if (!adminLoginEmail.trim()) {
                    alert('Please enter your admin email');
                    return;
                }

                setLoading(true);
                try {
                    const { data, error } = await supabase
                        .from('admin_users')
                        .select('*')
                        .eq('email', adminLoginEmail.toLowerCase())
                        .single();

                    if (error && error.code !== 'PGRST116') throw error;

                    if (data) {
                        setIsAdminAuthenticated(true);
                        setCurrentAdminUser(data);
                        setShowAdminLogin(false);
                        setAdminLoginEmail('');
                        alert(`Welcome, ${data.name}!`);
                        await refreshData(); // Load fresh data for admin
                    } else {
                        alert('Email not found in admin users');
                    }
                } catch (err) {
                    console.error('Error during admin login:', err);
                    alert('Login failed. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const handleAdminLogout = () => {
                setIsAdminAuthenticated(false);
                setCurrentAdminUser(null);
                setCurrentView('public');
            };

            const approveEvent = async (eventId) => {
                setLoading(true);
                try {
                    const { error } = await supabase
                        .from('events')
                        .update({ 
                            status: 'approved',
                            updated_at: new Date().toISOString()
                        })
                        .eq('id', eventId);

                    if (error) throw error;

                    alert('Event approved successfully!');
                    await refreshData();
                } catch (err) {
                    console.error('Error approving event:', err);
                    alert('Failed to approve event. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const rejectEvent = async (eventId) => {
                const event = pendingEvents.find(e => e.id === eventId);
                if (!event) return;

                if (!confirm(`Reject "${event.event_name}"?`)) return;

                setLoading(true);
                try {
                    const { error } = await supabase
                        .from('events')
                        .update({ 
                            status: 'rejected',
                            updated_at: new Date().toISOString()
                        })
                        .eq('id', eventId);

                    if (error) throw error;

                    alert('Event rejected');
                    await refreshData();
                } catch (err) {
                    console.error('Error rejecting event:', err);
                    alert('Failed to reject event. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const removeEvent = async (eventId) => {
                const event = approvedEvents.find(e => e.id === eventId);
                if (!event) return;

                if (!confirm(`Remove "${event.event_name}" from calendar?`)) return;

                setLoading(true);
                try {
                    const { error } = await supabase
                        .from('events')
                        .delete()
                        .eq('id', eventId);

                    if (error) throw error;

                    alert('Event removed from calendar');
                    await refreshData();
                } catch (err) {
                    console.error('Error removing event:', err);
                    alert('Failed to remove event. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            // Calendar functions
            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const startingDayOfWeek = firstDay.getDay();
                
                const days = [];
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
                for (let day = 1; day <= daysInMonth; day++) {
                    days.push(new Date(year, month, day));
                }
                return days;
            };

            const getEventsForDate = (date) => {
                if (!date) return [];
                const dateString = date.toISOString().split('T')[0];
                return approvedEvents.filter(event => event.event_date === dateString);
            };

            const isToday = (date) => {
                if (!date) return false;
                const today = new Date();
                return date.toDateString() === today.toDateString();
            };

            const scrollToSection = (id) => {
                document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' });
            };

            return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50" },
                // Header
                React.createElement('header', { className: "bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-10" },
                    React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4" },
                        React.createElement('div', { className: "flex items-center justify-between" },
                            React.createElement('div', { className: "flex items-center space-x-3" },
                                React.createElement(Calendar, { className: "h-8 w-8 text-blue-600" }),
                                React.createElement('h1', { className: "text-2xl font-bold text-gray-900" }, "Dallas Dance Events")
                            ),
                            React.createElement('div', { className: "flex items-center space-x-4" },
                                currentView === 'public' &&                                 React.createElement('nav', { className: "hidden md:flex space-x-6" },
                                    React.createElement('button', { 
                                        onClick: () => scrollToSection('calendar'),
                                        className: "text-gray-600 hover:text-blue-600 transition-colors"
                                    }, "View Calendar"),
                                    React.createElement('button', { 
                                        onClick: () => scrollToSection('submit'),
                                        className: "text-gray-600 hover:text-blue-600 transition-colors"
                                    }, "Submit Event"),
                                    React.createElement('button', { 
                                        onClick: refreshData,
                                        disabled: loading,
                                        className: "text-gray-600 hover:text-blue-600 transition-colors flex items-center space-x-1 " + (loading ? 'opacity-50' : '')
                                    },
                                        React.createElement('svg', { className: "h-4 w-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
                                            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" })
                                        ),
                                        React.createElement('span', null, loading ? "Refreshing..." : "Refresh")
                                    )
                                ),
                                
                                isAdminAuthenticated ? React.createElement('div', { className: "flex items-center space-x-3" },
                                    React.createElement('button', {
                                        onClick: () => setCurrentView(currentView === 'admin' ? 'public' : 'admin'),
                                        className: "flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all " + 
                                            (currentView === 'admin' ? 'bg-red-100 text-red-700' : 'bg-blue-100 text-blue-700')
                                    },
                                        React.createElement(Shield, { className: "h-4 w-4" }),
                                        React.createElement('span', null, currentView === 'admin' ? 'Exit Admin' : 'Admin')
                                    ),
                                    React.createElement('button', {
                                        onClick: handleAdminLogout,
                                        className: "text-sm text-gray-500 hover:text-gray-700"
                                    }, "Logout")
                                ) : React.createElement('button', {
                                    onClick: () => setShowAdminLogin(true),
                                    className: "text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center space-x-1"
                                },
                                    React.createElement(Shield, { className: "h-4 w-4" }),
                                    React.createElement('span', null, "Admin Login")
                                )
                            )
                        )
                    )
                ),

                // Main Content
                currentView === 'public' ? [
                    // Hero Section
                    React.createElement('section', { key: 'hero', className: "relative py-20 px-4 sm:px-6 lg:px-8" },
                        React.createElement('div', { className: "max-w-4xl mx-auto text-center" },
                            React.createElement('h2', { className: "text-5xl font-bold text-gray-900 mb-6 leading-tight" },
                                "Discover & Share ",
                                React.createElement('span', { className: "text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600" }, "Dallas Dance Events")
                            ),
                            React.createElement('p', { className: "text-xl text-gray-600 mb-8 max-w-2xl mx-auto" },
                                "Join our vibrant dance community calendar. Submit your dance events for approval and discover what's happening in Dallas."
                            ),
                            React.createElement('div', { className: "flex flex-col sm:flex-row gap-4 justify-center" },
                                React.createElement('button', {
                                    onClick: () => scrollToSection('submit'),
                                    className: "bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl"
                                }, "Submit an Event"),
                                React.createElement('button', {
                                    onClick: () => scrollToSection('calendar'),
                                    className: "bg-white text-gray-700 px-8 py-3 rounded-lg font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 shadow-md hover:shadow-lg"
                                }, "View Calendar")
                            )
                        )
                    ),

                    // Calendar Section
                    React.createElement('section', { key: 'calendar', id: 'calendar', className: "py-16 px-4 sm:px-6 lg:px-8 bg-white/50" },
                        React.createElement('div', { className: "max-w-6xl mx-auto" },
                            React.createElement('div', { className: "text-center mb-12" },
                                React.createElement('h3', { className: "text-3xl font-bold text-gray-900 mb-4" }, 
                                    currentMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })
                                ),
                                React.createElement('p', { className: "text-gray-600" }, "Dallas Dance Events Calendar")
                            ),
                            
                            // Simple Calendar Grid
                            React.createElement('div', { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden" },
                                React.createElement('div', { className: "bg-gray-50 border-b border-gray-200" },
                                    React.createElement('div', { className: "grid grid-cols-7 gap-0" },
                                        ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day =>
                                            React.createElement('div', { key: day, className: "p-4 text-center" },
                                                React.createElement('span', { className: "text-sm font-semibold text-gray-900" }, day)
                                            )
                                        )
                                    )
                                ),
                                React.createElement('div', { className: "grid grid-cols-7 gap-0 bg-white" },
                                    getDaysInMonth(currentMonth).map((date, index) => {
                                        const dayEvents = getEventsForDate(date);
                                        return React.createElement('div', {
                                            key: index,
                                            className: "min-h-[120px] border-r border-b border-gray-100 p-2 " +
                                                (date ? 'bg-white hover:bg-gray-50' : 'bg-gray-50') +
                                                (isToday(date) ? ' bg-blue-50' : '')
                                        },
                                            date && [
                                                React.createElement('div', { key: 'date', className: "mb-2" },
                                                    React.createElement('span', { 
                                                        className: "text-sm font-medium " + (
                                                            isToday(date) 
                                                                ? 'bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs' 
                                                                : 'text-gray-900'
                                                        )
                                                    }, date.getDate())
                                                ),
                                                React.createElement('div', { key: 'events', className: "space-y-1" },
                                                    dayEvents.slice(0, 2).map(event =>
                                                        React.createElement('div', {
                                                            key: event.id,
                                                            onClick: () => setSelectedEvent(event),
                                                            className: "bg-blue-100 text-blue-900 text-xs px-2 py-1 rounded cursor-pointer hover:bg-blue-200 transition-all border border-blue-200 transform hover:scale-105"
                                                        },
                                                            React.createElement('div', { className: "font-medium truncate" }, event.event_name),
                                                            React.createElement('div', { className: "text-blue-700" }, formatTime(event.event_time))
                                                        )
                                                    )
                                                )
                                            ]
                                        );
                                    })
                                )
                            )
                        )
                    ),

                    // Event Submission Form
                    React.createElement('section', { key: 'submit', id: 'submit', className: "py-16 px-4 sm:px-6 lg:px-8" },
                        React.createElement('div', { className: "max-w-2xl mx-auto" },
                            React.createElement('div', { className: "text-center mb-12" },
                                React.createElement('h3', { className: "text-3xl font-bold text-gray-900 mb-4" }, "Submit Your Dance Event"),
                                React.createElement('p', { className: "text-gray-600" }, "Share your dance event with the Dallas community. All submissions require admin approval.")
                            ),

                            React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-8 border border-gray-100" },
                                React.createElement('div', { className: "space-y-6" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement(Calendar, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                            "Event Name *"
                                        ),
                                        React.createElement('input', {
                                            type: "text",
                                            name: "eventName",
                                            value: formData.eventName,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "Enter your event name"
                                        })
                                    ),

                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement('svg', { className: "h-4 w-4 mr-2 text-blue-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2" },
                                                React.createElement('polyline', { points: "17,1 21,5 17,9" }),
                                                React.createElement('path', { d: "M3 11V9a4 4 0 0 1 4-4h14" }),
                                                React.createElement('polyline', { points: "7,23 3,19 7,15" }),
                                                React.createElement('path', { d: "M21 13v2a4 4 0 0 1-4 4H3" })
                                            ),
                                            "Event Frequency"
                                        ),
                                        React.createElement('select', {
                                            name: "frequency",
                                            value: formData.frequency,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        },
                                            React.createElement('option', { value: "one-time" }, "One-time event"),
                                            React.createElement('option', { value: "daily" }, "Daily"),
                                            React.createElement('option', { value: "weekly" }, "Weekly"),
                                            React.createElement('option', { value: "monthly" }, "Monthly"),
                                            React.createElement('option', { value: "yearly" }, "Yearly")
                                        )
                                    ),

                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement(MapPin, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                            "Location *"
                                        ),
                                        React.createElement('input', {
                                            type: "text",
                                            name: "location",
                                            value: formData.location,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "Event location or address"
                                        })
                                    ),

                                    React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-6" },
                                        React.createElement('div', null,
                                            React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                React.createElement(Calendar, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                "Date *"
                                            ),
                                            React.createElement('input', {
                                                type: "date",
                                                name: "date",
                                                value: formData.date,
                                                onChange: handleInputChange,
                                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            })
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                                React.createElement(Clock, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                                "Time *"
                                            ),
                                            React.createElement('input', {
                                                type: "time",
                                                name: "time",
                                                value: formData.time,
                                                onChange: handleInputChange,
                                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            })
                                        )
                                    ),

                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement(User, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                            "Organizer Name *"
                                        ),
                                        React.createElement('input', {
                                            type: "text",
                                            name: "organizerName",
                                            value: formData.organizerName,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "Your name"
                                        })
                                    ),

                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement(Mail, { className: "h-4 w-4 mr-2 text-blue-600" }),
                                            "Contact Email *"
                                        ),
                                        React.createElement('input', {
                                            type: "email",
                                            name: "organizerEmail",
                                            value: formData.organizerEmail,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "your.email@example.com"
                                        })
                                    ),

                                    React.createElement('div', null,
                                        React.createElement('label', { className: "flex items-center text-sm font-medium text-gray-700 mb-2" },
                                            React.createElement('svg', { className: "h-4 w-4 mr-2 text-blue-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2" },
                                                React.createElement('path', { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" })
                                            ),
                                            "Social Media Account"
                                        ),
                                        React.createElement('input', {
                                            type: "text",
                                            name: "socialMediaAccount",
                                            value: formData.socialMediaAccount,
                                            onChange: handleInputChange,
                                            className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "@yourusername or social media link"
                                        }),
                                        React.createElement('p', { className: "text-sm text-gray-500 mt-1" },
                                            "Optional: Your social media handle or link for event updates and cancellations"
                                        )
                                    ),

                                    React.createElement('button', {
                                        onClick: handleSubmit,
                                        className: "w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                                    }, "Submit Event for Approval")
                                )
                            )
                        )
                    )
                ] : [
                    // Admin Dashboard
                    React.createElement('section', { key: 'admin', className: "py-8 px-4 sm:px-6 lg:px-8 min-h-screen bg-gray-50" },
                        React.createElement('div', { className: "max-w-7xl mx-auto" },
                            React.createElement('div', { className: "mb-8" },
                                React.createElement('h2', { className: "text-3xl font-bold text-gray-900 mb-2" }, "Admin Dashboard"),
                                React.createElement('p', { className: "text-gray-600" }, "Review and manage dance events")
                            ),

                            // Stats
                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-8" },
                                React.createElement('div', { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-6" },
                                    React.createElement('div', { className: "flex items-center" },
                                        React.createElement(Clock, { className: "h-8 w-8 text-yellow-600 mr-3" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-2xl font-bold text-yellow-900" }, pendingEvents.length),
                                            React.createElement('p', { className: "text-yellow-700" }, "Pending Events")
                                        )
                                    )
                                ),
                                React.createElement('div', { className: "bg-green-50 border border-green-200 rounded-lg p-6" },
                                    React.createElement('div', { className: "flex items-center" },
                                        React.createElement(Check, { className: "h-8 w-8 text-green-600 mr-3" }),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: "text-2xl font-bold text-green-900" }, approvedEvents.length),
                                            React.createElement('p', { className: "text-green-700" }, "Approved Events")
                                        )
                                    )
                                )
                            ),

                            // Pending Events
                            React.createElement('div', { className: "bg-white rounded-lg shadow-md mb-8" },
                                React.createElement('div', { className: "px-6 py-4 border-b border-gray-200" },
                                    React.createElement('h3', { className: "text-lg font-semibold text-gray-900" }, "Pending Events")
                                ),
                                React.createElement('div', { className: "p-6" },
                                    pendingEvents.length > 0 ? 
                                        React.createElement('div', { className: "space-y-6" },
                                            pendingEvents.map(event =>
                                                React.createElement('div', { 
                                                    key: event.id, 
                                                    className: "border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow" 
                                                },
                                                    React.createElement('h4', { className: "text-xl font-bold text-gray-900 mb-4" }, event.eventName),
                                                    React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-4" },
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement(MapPin, { className: "h-4 w-4 mr-2" }),
                                                            event.location
                                                        ),
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement(Calendar, { className: "h-4 w-4 mr-2" }),
                                                            formatDate(event.date)
                                                        ),
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement(Clock, { className: "h-4 w-4 mr-2" }),
                                                            formatTime(event.time)
                                                        ),
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement(User, { className: "h-4 w-4 mr-2" }),
                                                            event.organizerName
                                                        ),
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement(Mail, { className: "h-4 w-4 mr-2" }),
                                                            event.organizerEmail
                                                        ),
                                                        React.createElement('div', { className: "flex items-center" },
                                                            React.createElement('svg', { className: "h-4 w-4 mr-2", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2" },
                                                                React.createElement('polyline', { points: "17,1 21,5 17,9" }),
                                                                React.createElement('path', { d: "M3 11V9a4 4 0 0 1 4-4h14" }),
                                                                React.createElement('polyline', { points: "7,23 3,19 7,15" }),
                                                                React.createElement('path', { d: "M21 13v2a4 4 0 0 1-4 4H3" })
                                                            ),
                                                            event.frequency
                                                        ),
                                                        event.socialMediaAccount && React.createElement('div', { className: "flex items-center" },
                                                            React.createElement('svg', { className: "h-4 w-4 mr-2", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2" },
                                                                React.createElement('path', { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" })
                                                            ),
                                                            event.socialMediaAccount
                                                        )
                                                    ),
                                                    React.createElement('div', { className: "flex gap-3 pt-4 border-t border-gray-100" },
                                                        React.createElement('button', {
                                                            onClick: () => approveEvent(event.id),
                                                            className: "flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
                                                        },
                                                            React.createElement(Check, { className: "h-4 w-4 mr-2" }),
                                                            "Approve"
                                                        ),
                                                        React.createElement('button', {
                                                            onClick: () => rejectEvent(event.id),
                                                            className: "flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
                                                        },
                                                            React.createElement(X, { className: "h-4 w-4 mr-2" }),
                                                            "Reject"
                                                        )
                                                    )
                                                )
                                            )
                                        ) :
                                        React.createElement('div', { className: "text-center py-12" },
                                            React.createElement(Clock, { className: "h-12 w-12 text-gray-400 mx-auto mb-4" }),
                                            React.createElement('p', { className: "text-gray-500" }, "No pending events")
                                        )
                                )
                            ),

                            // Approved Events
                            React.createElement('div', { className: "bg-white rounded-lg shadow-md" },
                                React.createElement('div', { className: "px-6 py-4 border-b border-gray-200" },
                                    React.createElement('h3', { className: "text-lg font-semibold text-gray-900" }, "Approved Events")
                                ),
                                React.createElement('div', { className: "p-6" },
                                    approvedEvents.length > 0 ? 
                                        React.createElement('div', { className: "space-y-6" },
                                            approvedEvents.map(event =>
                                                React.createElement('div', { 
                                                    key: event.id, 
                                                    className: "border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow" 
                                                },
                                                    React.createElement('div', { className: "flex justify-between items-start" },
                                                        React.createElement('div', { className: "flex-1" },
                                                            React.createElement('h4', { className: "text-xl font-bold text-gray-900 mb-4" }, event.eventName),
                                                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" },
                                                                React.createElement('div', { className: "flex items-center" },
                                                                    React.createElement(MapPin, { className: "h-4 w-4 mr-2" }),
                                                                    event.location
                                                                ),
                                                                React.createElement('div', { className: "flex items-center" },
                                                                    React.createElement(Calendar, { className: "h-4 w-4 mr-2" }),
                                                                    formatDate(event.date)
                                                                ),
                                                                React.createElement('div', { className: "flex items-center" },
                                                                    React.createElement(Clock, { className: "h-4 w-4 mr-2" }),
                                                                    formatTime(event.time)
                                                                ),
                                                                React.createElement('div', { className: "flex items-center" },
                                                                    React.createElement(User, { className: "h-4 w-4 mr-2" }),
                                                                    event.organizerName
                                                                )
                                                            )
                                                        ),
                                                        React.createElement('button', {
                                                            onClick: () => removeEvent(event.id),
                                                            className: "flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm"
                                                        },
                                                            React.createElement(Trash, { className: "h-4 w-4 mr-2" }),
                                                            "Remove"
                                                        )
                                                    )
                                                )
                                            )
                                        ) :
                                        React.createElement('div', { className: "text-center py-12" },
                                            React.createElement(Check, { className: "h-12 w-12 text-gray-400 mx-auto mb-4" }),
                                            React.createElement('p', { className: "text-gray-500" }, "No approved events")
                                        )
                                )
                            )
                        )
                    )
                ],

                // Admin Login Modal
                showAdminLogin && React.createElement('div', { 
                    className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
                    onClick: (e) => {
                        if (e.target === e.currentTarget) {
                            setShowAdminLogin(false);
                            setAdminLoginEmail('');
                        }
                    }
                },
                    React.createElement('div', { className: "bg-white rounded-lg max-w-md w-full p-6" },
                        React.createElement('h3', { className: "text-lg font-semibold mb-4 flex items-center" },
                            React.createElement(Shield, { className: "h-5 w-5 mr-2 text-blue-600" }),
                            "Admin Login"
                        ),
                        React.createElement('div', { className: "mb-4" },
                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" },
                                "Admin Email Address"
                            ),
                            React.createElement('input', {
                                type: "email",
                                value: adminLoginEmail,
                                onChange: (e) => setAdminLoginEmail(e.target.value),
                                placeholder: "Enter your admin email",
                                className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                onKeyPress: (e) => e.key === 'Enter' && handleAdminLogin()
                            })
                        ),
                        React.createElement('div', { className: "flex gap-3 mb-4" },
                            React.createElement('button', {
                                onClick: handleAdminLogin,
                                className: "flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors"
                            }, "Login"),
                            React.createElement('button', {
                                onClick: () => {
                                    setShowAdminLogin(false);
                                    setAdminLoginEmail('');
                                },
                                className: "flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition-colors"
                            }, "Cancel")
                        ),
                        React.createElement('div', { className: "p-3 bg-blue-50 rounded-lg" },
                            React.createElement('p', { className: "text-xs text-blue-700" },
                                React.createElement('strong', null, "Demo Admin Emails:"),
                                React.createElement('br'),
                                "admin@example.com",
                                React.createElement('br'),
                                "arishpardiwalla@gmail.com"
                            )
                        )
                    )
                ),

                // Event Detail Modal
                selectedEvent && React.createElement('div', { 
                    className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
                    onClick: (e) => {
                        if (e.target === e.currentTarget) {
                            setSelectedEvent(null);
                        }
                    }
                },
                    React.createElement('div', { className: "bg-white rounded-lg max-w-md w-full" },
                        React.createElement('div', { className: "p-6 border-b border-gray-200" },
                            React.createElement('div', { className: "flex justify-between items-start" },
                                React.createElement('h3', { className: "text-xl font-bold text-gray-900" }, selectedEvent.eventName),
                                React.createElement('button', {
                                    onClick: () => setSelectedEvent(null),
                                    className: "text-gray-400 hover:text-gray-600 transition-colors"
                                },
                                    React.createElement(X, { className: "h-5 w-5" })
                                )
                            )
                        ),
                        React.createElement('div', { className: "p-6" },
                            React.createElement('div', { className: "space-y-4" },
                                React.createElement('div', { className: "flex items-start space-x-3" },
                                    React.createElement(MapPin, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                    React.createElement('div', null,
                                        React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Location"),
                                        React.createElement('p', { className: "text-sm text-gray-600" }, selectedEvent.location)
                                    )
                                ),
                                React.createElement('div', { className: "flex items-start space-x-3" },
                                    React.createElement(Calendar, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                    React.createElement('div', null,
                                        React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Date & Time"),
                                        React.createElement('p', { className: "text-sm text-gray-600" },
                                            formatDate(selectedEvent.date) + ' at ' + formatTime(selectedEvent.time)
                                        )
                                    )
                                ),
                                React.createElement('div', { className: "flex items-start space-x-3" },
                                    React.createElement(User, { className: "h-5 w-5 text-gray-400 mt-0.5" }),
                                    React.createElement('div', null,
                                        React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Organizer"),
                                        React.createElement('p', { className: "text-sm text-gray-600" }, selectedEvent.organizerName)
                                    )
                                ),
                                selectedEvent.socialMediaAccount && React.createElement('div', { className: "flex items-start space-x-3" },
                                    React.createElement('svg', { className: "h-5 w-5 text-gray-400 mt-0.5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", strokeWidth: "2" },
                                        React.createElement('path', { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('p', { className: "text-sm font-medium text-gray-900" }, "Additional Information"),
                                        React.createElement('p', { className: "text-sm text-gray-600" },
                                            "For additional information or cancellations, please go to ",
                                            React.createElement('a', {
                                                href: selectedEvent.socialMediaAccount.startsWith('@') 
                                                    ? 'https://twitter.com/' + selectedEvent.socialMediaAccount.substring(1)
                                                    : selectedEvent.socialMediaAccount.startsWith('http') 
                                                    ? selectedEvent.socialMediaAccount 
                                                    : 'https://' + selectedEvent.socialMediaAccount,
                                                target: "_blank",
                                                rel: "noopener noreferrer",
                                                className: "text-blue-600 hover:text-blue-800 underline font-medium"
                                            }, selectedEvent.socialMediaAccount)
                                        )
                                    )
                                )
                            ),
                            React.createElement('div', { className: "mt-6 pt-4 border-t border-gray-200" },
                                React.createElement('button', {
                                    onClick: () => setSelectedEvent(null),
                                    className: "w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium"
                                }, "Close")
                            )
                        )
                    )
                )
            );
        }

        // Render the app
        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(React.createElement(DallasEventsApp));
    </script>
</body>
</html>